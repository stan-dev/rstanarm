<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- upstream: inst/BS5/templates/head.html; pkgdown-version: 2.1.3, fe04924 --><!-- https://github.com/r-lib/pkgdown/tree/fe04924b3df129bea60ac871614b01d87bcae147 --><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Prior Distributions for rstanarm Models • rstanarm</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<!-- mathjax math --><script id="MathJax-script" defer src="https://cdn.jsdelivr.net/npm/mathjax@4.0.0/tex-mml-chtml.js" integrity="sha256-qoRlVrS5NAnXSSSiMfFXwK8C9obG11Iybe4h2+bQYR4=" crossorigin="anonymous">
  </script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_3-0.4.10/font.css" rel="stylesheet">
<link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- Font Awesome 7.0.1 for Bluesky icon --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" referrerpolicy="no-referrer">
<!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Prior Distributions for rstanarm Models">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <!-- upstream: inst/BS5/templates/navbar.html; pkgdown-version: 2.1.3, fe04924 -->
<!-- https://github.com/r-lib/pkgdown/tree/fe04924b3df129bea60ac871614b01d87bcae147 -->
<nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">


    <a class="navbar-brand me-2" href="../index.html">
      <!-- Add Stan logo -->
      <picture><source type="image/svg+xml" srcset="../logo.svg"><img src="../logo.png" class="stan-logo" alt="Stan blue hex logo"></source></picture>
      rstanarm
    </a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">2.32.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Go to homepage"><span class="fa fa-home fa-lg"></span></a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Vignettes</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-other-packages" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Other Packages</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-other-packages">
<li><a class="external-link dropdown-item" href="https://mc-stan.org/bayesplot">bayesplot</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/cmdstanr">cmdstanr</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/loo">loo</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/posterior">posterior</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/projpred">projpred</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/rstan">rstan</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/rstantools">rstantools</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/shinystan">shinystan</a></li>
  </ul>
</li>
<li class="nav-item"><a class="external-link nav-link" href="https://mc-stan.org/about/">About Stan</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://bsky.app/profile/did:plc:qznndgdnkem2yryu7ipqbpv7" aria-label="Visit our Bluesky profile"><span class="fa fa-brands fa-bluesky"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://discourse.mc-stan.org/" aria-label="Visit our forums"><span class="fa fa-users"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/stan-dev/rstanarm/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Prior Distributions for rstanarm Models</h1>
                        <h4 data-toc-skip class="author">Jonah Gabry and
Ben Goodrich</h4>
            
            <h4 data-toc-skip class="date">2025-12-09</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/stan-dev/rstanarm/blob/New-pkgdown-theme/vignettes/priors.Rmd" class="external-link"><code>vignettes/priors.Rmd</code></a></small>
      <div class="d-none name"><code>priors.Rmd</code></div>
    </div>

    
    
<!--
%\VignetteEngine{knitr::rmarkdown}
%\VignetteIndexEntry{Prior Distributions}
-->
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mc-stan.org/bayesplot/" class="external-link">bayesplot</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/get_theme.html" class="external-link">theme_set</a></span><span class="op">(</span><span class="fu">bayesplot</span><span class="fu">::</span><span class="fu"><a href="https://mc-stan.org/bayesplot/reference/theme_default.html" class="external-link">theme_default</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="july-2020-update">July 2020 Update<a class="anchor" aria-label="anchor" href="#july-2020-update"></a>
</h2>
<p>As of July 2020 there are a few changes to prior distributions:</p>
<ul>
<li><p>Except for in default priors, <code>autoscale</code> now defaults
to <code>FALSE</code>. This means that when specifying custom priors you
no longer need to manually set <code>autoscale=FALSE</code> every time
you use a distribution.</p></li>
<li><p>There are minor changes to the default priors on the intercept
and (non-hierarchical) regression coefficients. See <strong>Default
priors and scale adjustments</strong> below.</p></li>
</ul>
<p>We recommend the new book <a href="https://avehtari.github.io/ROS-Examples/" class="external-link">Regression and Other
Stories</a>, which discusses the background behind the default priors in
<strong>rstanarm</strong> and also provides examples of specifying
non-default priors.</p>
</div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette provides an overview of how the specification of prior
distributions works in the <strong>rstanarm</strong> package. It is
still a work in progress and more content will be added in future
versions of <strong>rstanarm</strong>. Before reading this vignette it
is important to first read the <a href="rstanarm.html">How to Use the
<strong>rstanarm</strong> Package</a> vignette, which provides a general
overview of the package.</p>
<p>Every modeling function in <strong>rstanarm</strong> offers a subset
of the arguments in the table below which are used for specifying prior
distributions for the model parameters.</p>
<p><br></p>
<table class="table">
<colgroup>
<col width="33%">
<col width="33%">
<col width="33%">
</colgroup>
<thead><tr class="header">
<th>Argument</th>
<th>Used in</th>
<th>Applies to</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>prior_intercept</code></td>
<td>All modeling functions except <code>stan_polr</code> and
<code>stan_nlmer</code>
</td>
<td>Model intercept, after centering predictors.</td>
</tr>
<tr class="even">
<td><code>prior</code></td>
<td>All modeling functions</td>
<td>Regression coefficients. Does <em>not</em> include coefficients that
vary by group in a multilevel model (see
<code>prior_covariance</code>).</td>
</tr>
<tr class="odd">
<td><code>prior_aux</code></td>
<td>
<code>stan_glm</code>*, <code>stan_glmer</code>*,
<code>stan_gamm4</code>, <code>stan_nlmer</code>
</td>
<td>Auxiliary parameter, e.g. error SD (interpretation depends on the
GLM).</td>
</tr>
<tr class="even">
<td><code>prior_covariance</code></td>
<td>
<code>stan_glmer</code>*, <code>stan_gamm4</code>,
<code>stan_nlmer</code>
</td>
<td>Covariance matrices in multilevel models with varying slopes and
intercepts. See the <a href="https://mc-stan.org/rstanarm/articles/glmer.html"><code>stan_glmer</code>
vignette</a> for details on this prior.</td>
</tr>
</tbody>
</table>
<p>* <code>stan_glm</code> also implies <code>stan_glm.nb</code>.
<code>stan_glmer</code> implies <code>stan_lmer</code> and
<code>stan_glmer.nb</code>.</p>
<p><br></p>
<p>The <code>stan_polr</code>, <code>stan_betareg</code>, and
<code>stan_gamm4</code> functions also provide additional arguments
specific only to those models:</p>
<table class="table">
<colgroup>
<col width="33%">
<col width="33%">
<col width="33%">
</colgroup>
<thead><tr class="header">
<th>Argument</th>
<th>Used only in</th>
<th>Applies to</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>prior_smooth</code></td>
<td><code>stan_gamm4</code></td>
<td>Prior for hyperparameters in GAMs (lower values yield less flexible
smooth functions).</td>
</tr>
<tr class="even">
<td><code>prior_counts</code></td>
<td><code>stan_polr</code></td>
<td>Prior counts of an <em>ordinal</em> outcome (when predictors at
sample means).</td>
</tr>
<tr class="odd">
<td><code>prior_z</code></td>
<td><code>stan_betareg</code></td>
<td>Coefficients in the model for <code>phi</code>.</td>
</tr>
<tr class="even">
<td><code>prior_intercept_z</code></td>
<td><code>stan_betareg</code></td>
<td>Intercept in the model for <code>phi</code>.</td>
</tr>
<tr class="odd">
<td><code>prior_phi</code></td>
<td><code>stan_betareg</code></td>
<td>
<code>phi</code>, if not modeled as function of predictors.</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>To specify these arguments the user provides a call to one of the
various available functions for specifying priors (e.g.,
<code>prior = normal(0, 1)</code>,
<code>prior = cauchy(c(0, 1), c(1, 2.5))</code>). The documentation for
these functions can be found at <code><a href="../reference/priors.html">help("priors")</a></code>. The
<strong>rstanarm</strong> documentation and the other <a href="index.html">vignettes</a> provide many examples of using these
arguments to specify priors and the documentation for these arguments on
the help pages for the various <strong>rstanarm</strong> modeling
functions (e.g., <code><a href="../reference/stan_glm.html">help("stan_glm")</a></code>) also explains which
distributions can be used when specifying each of the prior-related
arguments.</p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="default-weakly-informative-prior-distributions">Default (Weakly Informative) Prior Distributions<a class="anchor" aria-label="anchor" href="#default-weakly-informative-prior-distributions"></a>
</h2>
<p>With very few exceptions, the default priors in
<strong>rstanarm</strong> —the priors used if the arguments in the
tables above are untouched— are <em>not</em> flat priors. Rather, the
defaults are intended to be <em>weakly informative</em>. That is, they
are designed to provide moderate regularization and help stabilize
computation. For many (if not most) applications the defaults will
perform well, but this is not guaranteed (there are no default priors
that make sense for every possible model specification).</p>
<p>The way <strong>rstanarm</strong> attempts to make priors weakly
informative by default is to internally adjust the scales of the priors.
How this works (and, importantly, how to turn it off) is explained
below, but first we can look at the default priors in action by fitting
a basic linear regression model with the <code>stan_glm</code> function.
For specifying priors, the <code>stan_glm</code> function accepts the
arguments <code>prior_intercept</code>, <code>prior</code>, and
<code>prior_aux</code>. To use the default priors we just leave those
arguments at their defaults (i.e., we don’t specify them):</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://mc-stan.org/rstanarm/">"rstanarm"</a></span><span class="op">)</span></span>
<span><span class="va">default_prior_test</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/stan_glm.html">stan_glm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">wt</span> <span class="op">+</span> <span class="va">am</span>, data <span class="op">=</span> <span class="va">mtcars</span>, chains <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p>The <code>prior_summary</code> function provides a concise summary of
the priors used:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/prior_summary.stanreg.html">prior_summary</a></span><span class="op">(</span><span class="va">default_prior_test</span><span class="op">)</span></span></code></pre></div>
<pre><code>Priors for model 'default_prior_test' 
------
Intercept (after predictors centered)
  Specified prior:
    ~ normal(location = 20, scale = 2.5)
  Adjusted prior:
    ~ normal(location = 20, scale = 15)

Coefficients
  Specified prior:
    ~ normal(location = [0,0], scale = [2.5,2.5])
  Adjusted prior:
    ~ normal(location = [0,0], scale = [15.40,30.20])

Auxiliary (sigma)
  Specified prior:
    ~ exponential(rate = 1)
  Adjusted prior:
    ~ exponential(rate = 0.17)
------
See help('prior_summary.stanreg') for more details</code></pre>
<p>Starting from the bottom up, we can see that:</p>
<ul>
<li><p><strong>Auxiliary</strong>: <code>sigma</code>, the error
standard deviation, has a default prior that is <span class="math inline">\(\mathsf{exponential}(1)\)</span>. However, as a
result of the automatic rescaling, the actual scale used was
6.03.</p></li>
<li><p><strong>Coefficients</strong>: By default the regression
coefficients (in this case the coefficients on the <code>wt</code> and
<code>am</code> variables) are treated as a priori independent with
normal priors centered at 0 and with scale (standard deviation) <span class="math inline">\(2.5\)</span>. Like for <code>sigma</code>, in
order for the default to be weakly informative <strong>rstanarm</strong>
will adjust the scales of the priors on the coefficients. As a result,
the prior scales actually used were 15.40 and 30.20.</p></li>
<li><p><strong>Intercept</strong>: For the intercept, the default prior
is normal with mean <span class="math inline">\(0\)</span> and standard
deviation <span class="math inline">\(2.5\)</span>, but in this case the
standard deviation was adjusted to 15.07. There is also a note in
parentheses informing you that the prior applies to the intercept after
all predictors have been centered (a similar note can be found in the
documentation of the <code>prior_intercept</code> argument). In many
cases the value of <span class="math inline">\(y\)</span> when <span class="math inline">\(x=0\)</span> is not meaningful and it is easier to
think about the value when <span class="math inline">\(x =
\bar{x}\)</span>. Therefore placing a prior on the intercept after
centering the predictors typically makes it easier to specify a
reasonable prior for the intercept. (Note: the user does <em>not</em>
need to manually center the predictors.)</p></li>
</ul>
<p>To disable the centering of the predictors, you need to omit the
intercept from the model <code>formula</code> and include a column of
ones as a predictor (which cannot be named <code>"(Intercept)"</code> in
the <code>data.frame</code>). Then you can specify a prior “coefficient”
for the column of ones.</p>
<p>The next two subsections describe how the rescaling works and how to
easily disable it if desired.</p>
<div class="section level4">
<h4 id="default-priors-and-scale-adjustments">Default priors and scale adjustments<a class="anchor" aria-label="anchor" href="#default-priors-and-scale-adjustments"></a>
</h4>
<p>Automatic scale adjustments happen in two cases:</p>
<ol style="list-style-type: decimal">
<li>When the default priors are used.</li>
<li>When the user sets <code>autoscale=TRUE</code> when specifying their
own prior (e.g., <code>normal(0, 3, autoscale=TRUE)</code>). See
<code><a href="../reference/priors.html">help("priors")</a></code> for a list of distributions to see which
have an <code>autoscale</code> argument.</li>
</ol>
<p>Here we describe how the default priors work for the intercept,
regression coefficients, and (if applicable) auxiliary parameters.
Autoscaling when not using default priors works analogously (if
<code>autoscale=TRUE</code>).</p>
<p>Assume we have outcome <span class="math inline">\(y\)</span> and
predictors <span class="math inline">\(x_1,\ldots,x_k\)</span> and our
model has linear predictor</p>
<p><span class="math display">\[
\alpha + \beta_1 x_1 + \dots + \beta_K x_K.
\]</span></p>
<div class="section level5">
<h5 id="regression-coefficients">Regression coefficients<a class="anchor" aria-label="anchor" href="#regression-coefficients"></a>
</h5>
<p>The default prior on regression coefficients <span class="math inline">\(\beta_k\)</span> is</p>
<p><span class="math display">\[
\beta_k \sim \mathsf{Normal}(0, \, 2.5 \cdot s_y/s_x)
\]</span> where <span class="math inline">\(s_x = \text{sd}(x)\)</span>
and <span class="math display">\[
s_y =
\begin{cases}
\text{sd}(y) &amp; \text{if } \:\: {\tt family=gaussian(link)}, \\
1 &amp; \text{otherwise}.
\end{cases}
\]</span></p>
<p>This corresponds to
<code>prior = normal(0, 2.5, autoscale = TRUE)</code> in
<strong>rstanarm</strong> code.</p>
</div>
<div class="section level5">
<h5 id="intercept">Intercept<a class="anchor" aria-label="anchor" href="#intercept"></a>
</h5>
<p>The intercept is assigned a prior indirectly. The
<code>prior_intercept</code> argument refers to the intercept after all
predictors have been centered (internally by <strong>rstanarm</strong>).
That is, instead of placing the prior on the expected value of <span class="math inline">\(y\)</span> when <span class="math inline">\(x=0\)</span>, we place a prior on the expected
value of <span class="math inline">\(y\)</span> when <span class="math inline">\(x = \bar{x}\)</span>. The default prior for this
centered intercept, say <span class="math inline">\(\alpha_c\)</span>,
is</p>
<p><span class="math display">\[
\alpha_c \sim \mathsf{Normal}(m_y, \, 2.5 \cdot s_y)
\]</span> where</p>
<p><span class="math display">\[
m_y =
\begin{cases}
\bar{y} &amp; \text{if } \:\: {\tt
family=gaussian(link="identity")}, \\
0 &amp; \text{otherwise}
\end{cases}
\]</span> and <span class="math inline">\(s_y\)</span> is the same as
above (either 1 or <span class="math inline">\(\text{sd(y)}\)</span>).</p>
</div>
<div class="section level5">
<h5 id="auxiliary-parameters">Auxiliary parameters<a class="anchor" aria-label="anchor" href="#auxiliary-parameters"></a>
</h5>
<p>The default prior on the auxiliary parameter (residual standard
deviation for Gaussian, shape for gamma, reciprocal dispersion for
negative binomial, etc.) is an exponential distribution with rate <span class="math inline">\(1/s_y\)</span></p>
<p><span class="math display">\[
\text{aux} \sim \mathsf{Exponential}(1/s_y)
\]</span> where <span class="math inline">\(s_y\)</span> is the same as
above (either 1 or <span class="math inline">\(\text{sd(y)}\)</span>).</p>
<p>This corresponds to
<code>prior_aux = exponential(1, autoscale=TRUE)</code> in
<strong>rstanarm</strong> code.</p>
</div>
<div class="section level5">
<h5 id="note-on-data-based-priors">Note on data-based priors<a class="anchor" aria-label="anchor" href="#note-on-data-based-priors"></a>
</h5>
<p>Because the scaling is based on the scales of the predictors (and
possibly the outcome) these are technically data-dependent priors.
However, since these priors are quite wide (and in most cases rather
conservative), the amount of information used is weak and mainly takes
into account the order of magnitude of the variables. This enables
<strong>rstanarm</strong> to offer defaults that are reasonable for many
models.</p>
</div>
</div>
<div class="section level4">
<h4 id="disabling-prior-scale-adjustments">Disabling prior scale adjustments<a class="anchor" aria-label="anchor" href="#disabling-prior-scale-adjustments"></a>
</h4>
<p>To disable automatic rescaling simply specify a prior other than the
default. <strong>rstanarm</strong> versions up to and including version
<code>2.19.3</code> used to require you to explicitly set the
<code>autoscale</code> argument to <code>FALSE</code>, but now
autoscaling only happens by default for the default priors. To use
autoscaling with manually specified priors you have to set
<code>autoscale = TRUE</code>. For example, this prior specification
will not include any autoscaling:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">test_no_autoscale</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/update.html" class="external-link">update</a></span><span class="op">(</span></span>
<span>    <span class="va">default_prior_test</span>,</span>
<span>    prior <span class="op">=</span> <span class="fu"><a href="../reference/priors.html">normal</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">5</span><span class="op">)</span>,</span>
<span>    prior_intercept <span class="op">=</span> <span class="fu"><a href="../reference/priors.html">student_t</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">0</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>    prior_aux <span class="op">=</span> <span class="fu"><a href="../reference/priors.html">cauchy</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">3</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p>We can verify that the prior scales weren’t adjusted by checking
<code>prior_summary</code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/prior_summary.stanreg.html">prior_summary</a></span><span class="op">(</span><span class="va">test_no_autoscale</span><span class="op">)</span></span></code></pre></div>
<pre><code>Priors for model 'test_no_autoscale' 
------
Intercept (after predictors centered)
 ~ student_t(df = 4, location = 0, scale = 10)

Coefficients
 ~ normal(location = [0,0], scale = [5,5])

Auxiliary (sigma)
 ~ half-cauchy(location = 0, scale = 3)
------
See help('prior_summary.stanreg') for more details</code></pre>
<p><br></p>
</div>
</div>
<div class="section level2">
<h2 id="how-to-specify-flat-priors-and-why-you-typically-shouldnt">How to Specify Flat Priors (and why you typically shouldn’t)<a class="anchor" aria-label="anchor" href="#how-to-specify-flat-priors-and-why-you-typically-shouldnt"></a>
</h2>
<div class="section level4">
<h4 id="uninformative-is-usually-unwarranted-and-unrealistic-flat-is-frequently-frivolous-and-fictional">Uninformative is usually unwarranted and unrealistic (flat is
frequently frivolous and fictional)<a class="anchor" aria-label="anchor" href="#uninformative-is-usually-unwarranted-and-unrealistic-flat-is-frequently-frivolous-and-fictional"></a>
</h4>
<p>When “non-informative” or “uninformative” is used in the context of
prior distributions, it typically refers to a flat (uniform)
distribution or a nearly flat distribution. Sometimes it may also be
used to refer to the parameterization-invariant Jeffreys prior. Although
<strong>rstanarm</strong> does not prevent you from using very diffuse
or flat priors, unless the data is very strong it is wise to avoid
them.</p>
<p>Rarely is it appropriate in any applied setting to use a prior that
gives the same (or nearly the same) probability mass to values near zero
as it gives values bigger than the age of the universe in nanoseconds.
Even a much narrower prior than that, e.g., a normal distribution with
<span class="math inline">\(\sigma = 500\)</span>, will tend to put much
more probability mass on unreasonable parameter values than reasonable
ones. In fact, using the prior <span class="math inline">\(\theta \sim
\mathsf{Normal(\mu = 0, \sigma = 500)}\)</span> implies some strange
prior beliefs. For example, you believe a priori that <span class="math inline">\(P(|\theta| &lt; 250) &lt; P(|\theta| &gt;
250)\)</span>, which can easily be verified by doing the calculation
with the normal CDF</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="op">-</span> <span class="fl">2</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">pnorm</a></span><span class="op">(</span><span class="op">-</span><span class="fl">250</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fl">500</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Pr(-250 &lt; theta &lt; 250) ="</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">p</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] "Pr(-250 &lt; theta &lt; 250) = 0.38"</code></pre>
<p>or via approximation with Monte Carlo draws:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">theta</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">1e5</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fl">500</span><span class="op">)</span></span>
<span><span class="va">p_approx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">theta</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">250</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Pr(-250 &lt; theta &lt; 250) ="</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">p_approx</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] "Pr(-250 &lt; theta &lt; 250) = 0.38"</code></pre>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">theta</span>, clr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">theta</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">250</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">d</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">theta</span>, fill <span class="op">=</span> <span class="va">clr</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html" class="external-link">geom_histogram</a></span><span class="op">(</span>binwidth <span class="op">=</span> <span class="fl">5</span>, show.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">""</span>, labels <span class="op">=</span> <span class="cn">NULL</span>, expand <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html" class="external-link">expression</a></span><span class="op">(</span><span class="va">theta</span><span class="op">)</span>, breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1000</span>, <span class="op">-</span><span class="fl">250</span>, <span class="fl">250</span>, <span class="fl">1000</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="priors_files/figure-html/unnamed-chunk-5-1.png" class="r-plt" alt="_There is much more probability mass outside the interval (-250, 250)._" width="60%"><p class="caption">
<em>There is much more probability mass outside the interval (-250,
250).</em>
</p>
</div>
<p><br> This will almost never correspond to the prior beliefs of a
researcher about a parameter in a well-specified applied regression
model and yet priors like <span class="math inline">\(\theta \sim
\mathsf{Normal(\mu = 0, \sigma = 500)}\)</span> (and more extreme)
remain quite popular.</p>
<p>Even when you know very little, a flat or very wide prior will almost
never be the best approximation to your beliefs about the parameters in
your model that you can express using <strong>rstanarm</strong> (or
other software). <em>Some</em> amount of prior information will be
available. For example, even if there is nothing to suggest a priori
that a particular coefficient will be positive or negative, there is
almost always enough information to suggest that different orders of
magnitude are not equally likely. Making use of this information when
setting a prior scale parameter is simple —one heuristic is to set the
scale an order of magnitude bigger than you suspect it to be— and has
the added benefit of helping to stabilize computations.</p>
<p>A more in-depth discussion of non-informative vs weakly informative
priors is available in the case study <a href="https://mc-stan.org/users/documentation/case-studies/weakly_informative_shapes.html" class="external-link"><em>How
the Shape of a Weakly Informative Prior Affects Inferences</em></a>.</p>
</div>
<div class="section level4">
<h4 id="specifying-flat-priors">Specifying flat priors<a class="anchor" aria-label="anchor" href="#specifying-flat-priors"></a>
</h4>
<p><strong>rstanarm</strong> will use flat priors if <code>NULL</code>
is specified rather than a distribution. For example, to use a flat
prior on regression coefficients you would specify
<code>prior=NULL</code>:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">flat_prior_test</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/stan_glm.html">stan_glm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">wt</span>, data <span class="op">=</span> <span class="va">mtcars</span>, prior <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
<p>In this case we let <strong>rstanarm</strong> use the default priors
for the intercept and error standard deviation (we could change that if
we wanted), but the coefficient on the <code>wt</code> variable will
have a flat prior. To double check that indeed a flat prior was used for
the coefficient on <code>wt</code> we can call
<code>prior_summary</code>:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/prior_summary.stanreg.html">prior_summary</a></span><span class="op">(</span><span class="va">flat_prior_test</span><span class="op">)</span></span></code></pre></div>
<pre><code>Priors for model 'flat_prior_test' 
------
Intercept (after predictors centered)
  Specified prior:
    ~ normal(location = 20, scale = 2.5)
  Adjusted prior:
    ~ normal(location = 20, scale = 15)

Coefficients
 ~ flat

Auxiliary (sigma)
  Specified prior:
    ~ exponential(rate = 1)
  Adjusted prior:
    ~ exponential(rate = 0.17)
------
See help('prior_summary.stanreg') for more details</code></pre>
<p><br></p>
</div>
</div>
<div class="section level2">
<h2 id="informative-prior-distributions">Informative Prior Distributions<a class="anchor" aria-label="anchor" href="#informative-prior-distributions"></a>
</h2>
<p>Although the default priors tend to work well, prudent use of more
informative priors is encouraged. For example, suppose we have a linear
regression model <span class="math display">\[y_i \sim
\mathsf{Normal}\left(\alpha + \beta_1 x_{1,i} + \beta_2 x_{2,i}, \,
\sigma\right)\]</span> and we have evidence (perhaps from previous
research on the same topic) that approximately <span class="math inline">\(\beta_1 \in (-15, -5)\)</span> and <span class="math inline">\(\beta_2 \in (-1, 1)\)</span>. An example of an
informative prior for <span class="math inline">\(\boldsymbol{\beta} =
(\beta_1, \beta_2)'\)</span> could be</p>
<p><span class="math display">\[
\boldsymbol{\beta} \sim \mathsf{Normal} \left(
  \begin{pmatrix} -10 \\ 0 \end{pmatrix},
  \begin{pmatrix} 5^2 &amp; 0 \\ 0 &amp; 2^2 \end{pmatrix}
\right),
\]</span> which sets the prior means at the midpoints of the intervals
and then allows for some wiggle room on either side. If the data are
highly informative about the parameter values (enough to overwhelm the
prior) then this prior will yield similar results to a non-informative
prior. But as the amount of data and/or the signal-to-noise ratio
decrease, using a more informative prior becomes increasingly
important.</p>
<p>If the variables <code>y</code>, <code>x1</code>, and <code>x2</code>
are in the data frame <code>dat</code> then this model can be specified
as</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_prior</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/priors.html">normal</a></span><span class="op">(</span>location <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>, <span class="fl">0</span><span class="op">)</span>, scale <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/stan_glm.html">stan_glm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">x1</span> <span class="op">+</span> <span class="va">x2</span>, data <span class="op">=</span> <span class="va">dat</span>, prior <span class="op">=</span> <span class="va">my_prior</span><span class="op">)</span></span></code></pre></div>
<p>We left the priors for the intercept and error standard deviation at
their defaults, but informative priors can be specified for those
parameters in an analogous manner.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jonah Gabry, Ben Goodrich.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
