<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><!-- upstream: inst/BS5/templates/head.html; pkgdown-version: 2.1.3, fe04924 --><!-- https://github.com/r-lib/pkgdown/tree/fe04924b3df129bea60ac871614b01d87bcae147 --><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Extract the posterior sample — as.matrix.stanreg • rstanarm</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- mathjax math --><script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@4.0.0/tex-mml-chtml.js" integrity="sha256-qoRlVrS5NAnXSSSiMfFXwK8C9obG11Iybe4h2+bQYR4=" crossorigin="anonymous">
  </script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_3-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- Font Awesome 7.0.1 for Bluesky icon --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" referrerpolicy="no-referrer"><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Extract the posterior sample — as.matrix.stanreg"><meta name="description" content='For models fit using MCMC (algorithm="sampling"), the posterior sample
—the post-warmup draws from the posterior distribution— can be extracted
from a fitted model object as a matrix, data frame, or array. The
as.matrix and as.data.frame methods merge all chains together,
whereas the as.array method keeps the chains separate. For models fit
using optimization ("optimizing") or variational inference
("meanfield" or "fullrank"), there is no posterior sample but
rather a matrix (or data frame) of 1000 draws from either the asymptotic
multivariate Gaussian sampling distribution of the parameters or the
variational approximation to the posterior distribution.'><meta property="og:description" content='For models fit using MCMC (algorithm="sampling"), the posterior sample
—the post-warmup draws from the posterior distribution— can be extracted
from a fitted model object as a matrix, data frame, or array. The
as.matrix and as.data.frame methods merge all chains together,
whereas the as.array method keeps the chains separate. For models fit
using optimization ("optimizing") or variational inference
("meanfield" or "fullrank"), there is no posterior sample but
rather a matrix (or data frame) of 1000 draws from either the asymptotic
multivariate Gaussian sampling distribution of the parameters or the
variational approximation to the posterior distribution.'><meta property="og:image" content="https://mc-stan.org/rstanarm/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <!-- upstream: inst/BS5/templates/navbar.html; pkgdown-version: 2.1.3, fe04924 -->
<!-- https://github.com/r-lib/pkgdown/tree/fe04924b3df129bea60ac871614b01d87bcae147 -->
<nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">


    <a class="navbar-brand me-2" href="../index.html">
      <!-- Add Stan logo -->
      <picture><source type="image/svg+xml" srcset="../logo.svg"><img src="../logo.png" class="stan-logo" alt="Stan blue hex logo"></source></picture>
      rstanarm
    </a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">2.32.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Go to homepage"><span class="fa fa-home fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Vignettes</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-other-packages" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Other Packages</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-other-packages"><li><a class="external-link dropdown-item" href="https://mc-stan.org/bayesplot">bayesplot</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/cmdstanr">cmdstanr</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/loo">loo</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/posterior">posterior</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/projpred">projpred</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/rstan">rstan</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/rstantools">rstantools</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/shinystan">shinystan</a></li>
  </ul></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mc-stan.org/about/">About Stan</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://bsky.app/profile/did:plc:qznndgdnkem2yryu7ipqbpv7" aria-label="Visit our Bluesky profile"><span class="fa fa-brands fa-bluesky"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://discourse.mc-stan.org/" aria-label="Visit our forums"><span class="fa fa-users"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/stan-dev/rstanarm/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Extract the posterior sample</h1>
      <small class="dont-index">Source: <a href="https://github.com/stan-dev/rstanarm/blob/master/R/as.matrix.stanreg.R" class="external-link"><code>R/as.matrix.stanreg.R</code></a></small>
      <div class="d-none name"><code>as.matrix.stanreg.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>For models fit using MCMC (<code>algorithm="sampling"</code>), the posterior sample
—the post-warmup draws from the posterior distribution— can be extracted
from a fitted model object as a matrix, data frame, or array. The
<code>as.matrix</code> and <code>as.data.frame</code> methods merge all chains together,
whereas the <code>as.array</code> method keeps the chains separate. For models fit
using optimization (<code>"optimizing"</code>) or variational inference
(<code>"meanfield"</code> or <code>"fullrank"</code>), there is no posterior sample but
rather a matrix (or data frame) of 1000 draws from either the asymptotic
multivariate Gaussian sampling distribution of the parameters or the
variational approximation to the posterior distribution.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'stanreg'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span>, pars <span class="op">=</span> <span class="cn">NULL</span>, regex_pars <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'stanreg'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/array.html" class="external-link">as.array</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span>, pars <span class="op">=</span> <span class="cn">NULL</span>, regex_pars <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'stanreg'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span>, pars <span class="op">=</span> <span class="cn">NULL</span>, regex_pars <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A fitted model object returned by one of the
<span class="pkg">rstanarm</span> modeling functions. See <code><a href="stanreg-objects.html">stanreg-objects</a></code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Ignored.</p></dd>


<dt id="arg-pars">pars<a class="anchor" aria-label="anchor" href="#arg-pars"></a></dt>
<dd><p>An optional character vector of parameter names.</p></dd>


<dt id="arg-regex-pars">regex_pars<a class="anchor" aria-label="anchor" href="#arg-regex-pars"></a></dt>
<dd><p>An optional character vector of <a href="https://rdrr.io/r/base/grep.html" class="external-link">regular
expressions</a> to use for parameter selection. <code>regex_pars</code> can be used
in place of <code>pars</code> or in addition to <code>pars</code>. Currently, all
functions that accept a <code>regex_pars</code> argument ignore it for models fit
using optimization.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A matrix, data.frame, or array, the dimensions of which depend on
  <code>pars</code> and <code>regex_pars</code>, as well as the model and estimation
  algorithm (see the Description section above).</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="stanreg-draws-formats.html">stanreg-draws-formats</a></code>, <code><a href="stanreg-methods.html">stanreg-methods</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">.Platform</span><span class="op">$</span><span class="va">OS.type</span> <span class="op">!=</span> <span class="st">"windows"</span> <span class="op">||</span> <span class="va">.Platform</span><span class="op">$</span><span class="va">r_arch</span> <span class="op">!=</span> <span class="st">"i386"</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/exists.html" class="external-link">exists</a></span><span class="op">(</span><span class="st">"example_model"</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/example.html" class="external-link">example</a></span><span class="op">(</span><span class="va">example_model</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Extract posterior sample after MCMC</span></span></span>
<span class="r-in"><span><span class="va">draws</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="va">example_model</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">draws</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># For example, we can see that the median of the draws for the intercept </span></span></span>
<span class="r-in"><span><span class="co"># is the same as the point estimate rstanarm uses</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/median.html" class="external-link">median</a></span><span class="op">(</span><span class="va">draws</span><span class="op">[</span>, <span class="st">"(Intercept)"</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">example_model</span><span class="op">$</span><span class="va">coefficients</span><span class="op">[[</span><span class="st">"(Intercept)"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The as.array method keeps the chains separate</span></span></span>
<span class="r-in"><span><span class="va">draws_array</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html" class="external-link">as.array</a></span><span class="op">(</span><span class="va">example_model</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">draws_array</span><span class="op">)</span><span class="op">)</span> <span class="co"># iterations x chains x parameters</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Extract draws from asymptotic Gaussian sampling distribution </span></span></span>
<span class="r-in"><span><span class="co"># after optimization</span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="stan_glm.html">stan_glm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">wt</span>, data <span class="op">=</span> <span class="va">mtcars</span>, algorithm <span class="op">=</span> <span class="st">"optimizing"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">draws</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">draws</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">draws</span><span class="op">)</span><span class="op">)</span> <span class="co"># 1000 draws are taken</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Extract draws from variational approximation to the posterior distribution</span></span></span>
<span class="r-in"><span><span class="va">fit2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/update.html" class="external-link">update</a></span><span class="op">(</span><span class="va">fit</span>, algorithm <span class="op">=</span> <span class="st">"meanfield"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">draws</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">fit2</span>, pars <span class="op">=</span> <span class="st">"wt"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">draws</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">draws</span><span class="op">)</span><span class="op">)</span> <span class="co"># 1000 draws are taken</span></span></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> exmpl_&gt; if (.Platform$OS.type != "windows" || .Platform$r_arch != "i386") {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> exmpl_+ example_model &lt;- </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> exmpl_+   stan_glmer(cbind(incidence, size - incidence) ~ size + period + (1|herd),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> exmpl_+              data = lme4::cbpp, family = binomial, QR = TRUE,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> exmpl_+              # this next line is only to keep the example small in size!</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> exmpl_+              chains = 2, cores = 1, seed = 12345, iter = 1000, refresh = 0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> exmpl_+ example_model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> exmpl_+ }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> stan_glmer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  family:       binomial [logit]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  formula:      cbind(incidence, size - incidence) ~ size + period + (1 | herd)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  observations: 56</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Median MAD_SD</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept) -1.5    0.6  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> size         0.0    0.0  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> period2     -1.0    0.3  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> period3     -1.1    0.4  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> period4     -1.6    0.5  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Error terms:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Groups Name        Std.Dev.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  herd   (Intercept) 0.76    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Num. levels: herd 15 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * For help interpreting the printed output see ?print.stanreg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * For info on the priors used see ?prior_summary.stanreg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1000   21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -1.515377</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -1.515377</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 500   2  21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "(Intercept)" "wt"          "sigma"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1: ------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1: EXPERIMENTAL ALGORITHM:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   This procedure has not been thoroughly tested and may be unstable</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   or buggy. The interface is subject to change.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1: ------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1: Gradient evaluation took 2.3e-05 seconds</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 0.23 seconds.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1: Adjust your expectations accordingly!</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1: Begin eta adaptation.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1: Iteration:   1 / 250 [  0%]  (Adaptation)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1: Iteration:  50 / 250 [ 20%]  (Adaptation)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1: Iteration: 100 / 250 [ 40%]  (Adaptation)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1: Iteration: 150 / 250 [ 60%]  (Adaptation)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1: Iteration: 200 / 250 [ 80%]  (Adaptation)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1: Success! Found best value [eta = 1] earlier than expected.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1: Begin stochastic gradient ascent.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   iter             ELBO   delta_ELBO_mean   delta_ELBO_med   notes </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:    100         -199.711             1.000            1.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:    200         -145.781             0.685            1.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:    300         -134.939             0.483            0.370</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:    400         -124.247             0.384            0.370</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:    500         -114.013             0.325            0.090</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:    600          -97.593             0.299            0.168</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:    700          -89.716             0.269            0.090</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:    800          -89.115             0.236            0.090</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:    900          -89.614             0.210            0.088</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   1000          -89.450             0.190            0.088</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   1100          -89.124             0.090            0.086</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   1200          -89.136             0.053            0.080</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   1300          -89.459             0.045            0.007</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   1400          -89.339             0.037            0.006</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   1500          -89.409             0.028            0.004</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   1600          -89.057             0.012            0.004</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   1700          -89.342             0.003            0.004</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   1800          -88.968             0.003            0.004</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   1900          -89.288             0.003            0.004</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   2000          -89.399             0.003            0.004</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   2100          -89.904             0.003            0.004</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   2200          -89.471             0.003            0.004</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   2300          -89.648             0.003            0.004</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   2400          -89.044             0.004            0.004</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   2500          -89.182             0.004            0.004</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   2600          -89.249             0.003            0.004</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   2700          -89.307             0.003            0.004</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   2800          -89.656             0.003            0.004</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   2900          -89.055             0.003            0.004</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   3000          -89.374             0.004            0.004</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   3100          -89.347             0.003            0.004</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   3200          -89.044             0.003            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   3300          -89.282             0.003            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   3400          -89.180             0.002            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   3500          -89.445             0.003            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   3600          -88.930             0.003            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   3700          -89.128             0.003            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   3800          -89.273             0.003            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   3900          -89.221             0.002            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   4000          -88.955             0.002            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   4100          -89.087             0.002            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   4200          -89.442             0.003            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   4300          -89.457             0.002            0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   4400          -89.148             0.003            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   4500          -89.370             0.002            0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   4600          -88.966             0.002            0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   4700          -89.159             0.002            0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   4800          -89.471             0.003            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   4900          -89.269             0.003            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   5000          -89.090             0.003            0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   5100          -89.190             0.003            0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   5200          -89.215             0.002            0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   5300          -89.220             0.002            0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   5400          -89.496             0.002            0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   5500          -89.219             0.002            0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   5600          -89.212             0.002            0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   5700          -89.269             0.002            0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   5800          -89.702             0.002            0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   5900          -89.541             0.002            0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   6000          -89.517             0.002            0.001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   6100          -89.470             0.001            0.001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   6200          -89.060             0.002            0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   6300          -89.467             0.002            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   6400          -89.174             0.002            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   6500          -89.106             0.002            0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   6600          -89.083             0.002            0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   6700          -89.312             0.002            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   6800          -89.392             0.002            0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   6900          -89.270             0.002            0.001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   7000          -88.979             0.002            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   7100          -89.230             0.002            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   7200          -88.998             0.002            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   7300          -89.365             0.002            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   7400          -89.208             0.002            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   7500          -89.108             0.002            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   7600          -89.129             0.002            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   7700          -88.939             0.002            0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   7800          -89.534             0.003            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   7900          -88.906             0.003            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   8000          -89.087             0.003            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   8100          -88.991             0.003            0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   8200          -88.983             0.003            0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   8300          -89.323             0.003            0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   8400          -89.016             0.003            0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   8500          -89.293             0.003            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   8600          -89.358             0.003            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   8700          -89.161             0.003            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   8800          -88.894             0.003            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   8900          -89.349             0.002            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   9000          -89.346             0.002            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   9100          -89.402             0.002            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   9200          -89.223             0.002            0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   9300          -89.061             0.002            0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   9400          -88.958             0.002            0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   9500          -89.476             0.002            0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   9600          -89.143             0.003            0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   9700          -89.275             0.002            0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   9800          -88.954             0.003            0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   9900          -89.765             0.003            0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1:   10000          -89.301             0.003            0.004</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1: Informational Message: The maximum number of iterations is reached! The algorithm may not have converged.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1: This variational approximation is not guaranteed to be meaningful.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1: Drawing a sample of size 1000 from the approximate posterior... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1: COMPLETED.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Pareto k diagnostic value is 0.9. Resampling is unreliable. Increasing the number of draws or decreasing tol_rel_obj may help.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "wt"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1000</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jonah Gabry, Ben Goodrich.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

